+++ dirname /home/fjammes/tmp/qserv_testscale/S15/tests/sscan-queries.sh
++ cd /home/fjammes/tmp/qserv_testscale/S15/tests
++ pwd -P
+ DIR=/home/fjammes/tmp/qserv_testscale/S15/tests
+ . /home/fjammes/tmp/qserv_testscale/S15/tests/env.sh
++ '[' -z qserv-ceph-orchestra-1 ']'
+++ type -p bash
++ export SHELL=/bin/bash
++ SHELL=/bin/bash
+ export MASTER
+ export -f mysql_query
+ echo 'SHARED SCANS'
SHARED SCANS
+ echo ------------
------------
+ echo 'Two scans on Object. Startup was staggered.'
Two scans on Object. Startup was staggered.
+ echo

+ SQL1='SELECT COUNT(*) FROM Object WHERE y_instFlux > 5'
+ SQL2='SELECT MIN(ra), MAX(ra) FROM Object WHERE decl > 3'
+ parallel --delay 5 mysql_query ::: 'SELECT COUNT(*) FROM Object WHERE y_instFlux > 5' 'SELECT MIN(ra), MAX(ra) FROM Object WHERE decl > 3'
Query: SELECT COUNT(*) FROM Object WHERE y_instFlux > 5
0
Execution time: 141.713111639

Query: SELECT MIN(ra), MAX(ra) FROM Object WHERE decl > 3
0.0000014485490397609597	355.1677801776341
Execution time: 141.349707603

+ echo 'Five scans on Object. Startup was staggered.'
Five scans on Object. Startup was staggered.
+ echo

+ SQL1='SELECT MIN(ra), MAX(ra) FROM Object WHERE decl > 3'
+ SQL3='SELECT COUNT(*) FROM Object WHERE y_instFlux > u_instFlux'
+ SQL4='SELECT COUNT(*) FROM Object WHERE y_instFlux > 5'
+ SQL5='SELECT MIN(ra), MAX(ra) FROM Object WHERE z_apFlux BETWEEN 1 and 2'
+ parallel --delay 5 mysql_query ::: 'SELECT MIN(ra), MAX(ra) FROM Object WHERE decl > 3' 'SELECT MIN(ra), MAX(ra) FROM Object WHERE decl > 3' 'SELECT COUNT(*) FROM Object WHERE y_instFlux > u_instFlux' 'SELECT COUNT(*) FROM Object WHERE y_instFlux > 5' 'SELECT MIN(ra), MAX(ra) FROM Object WHERE z_apFlux BETWEEN 1 and 2'
Query: SELECT MIN(ra), MAX(ra) FROM Object WHERE decl > 3
0.0000014485490397609597	355.1677801776341
Execution time: 126.836364746

Query: SELECT MIN(ra), MAX(ra) FROM Object WHERE decl > 3
0.0000014485490397609597	355.1677801776341
Execution time: 125.982993126

Query: SELECT COUNT(*) FROM Object WHERE y_instFlux > u_instFlux
0
Execution time: 125.276906252

Query: SELECT COUNT(*) FROM Object WHERE y_instFlux > 5
0
Execution time: 125.284832954

Query: SELECT MIN(ra), MAX(ra) FROM Object WHERE z_apFlux BETWEEN 1 and 2
NULL	NULL
Execution time: 121.390418291

+ echo 'Five scans on Object, without staggering.'
Five scans on Object, without staggering.
+ echo

+ SQL1='SELECT COUNT(*) FROM Object WHERE y_instFlux > 5'
+ SQL2='SELECT MIN(ra), MAX(ra) FROM Object WHERE decl > 3'
+ SQL5='SELECT COUNT(*) AS n, AVG(ra), AVG(decl), chunkId FROM Object GROUP BY chunkId'
+ parallel --delay 5 mysql_query ::: 'SELECT COUNT(*) FROM Object WHERE y_instFlux > 5' 'SELECT MIN(ra), MAX(ra) FROM Object WHERE decl > 3' 'SELECT COUNT(*) FROM Object WHERE y_instFlux > 5' 'SELECT COUNT(*) FROM Object WHERE y_instFlux > 5' 'SELECT COUNT(*) AS n, AVG(ra), AVG(decl), chunkId FROM Object GROUP BY chunkId'
Query: SELECT COUNT(*) FROM Object WHERE y_instFlux > 5
0
Execution time: 120.815321445

Query: SELECT MIN(ra), MAX(ra) FROM Object WHERE decl > 3
0.0000014485490397609597	355.1677801776341
Execution time: 119.535768032

Query: SELECT COUNT(*) FROM Object WHERE y_instFlux > 5
0
Execution time: 120.177286625

Query: SELECT COUNT(*) FROM Object WHERE y_instFlux > 5
0
Execution time: 120.498952627

Query: SELECT COUNT(*) AS n, AVG(ra), AVG(decl), chunkId FROM Object GROUP BY chunkId
978966	181.30742497160443	-88.58677936588546	0
370870	129.9505635477737	-82.5514205695503	516
352724	187.43446619366634	-80.44793943940117	692
317667	145.0751962011116	-78.32684176874128	862
325278	53.57086104992956	-76.21614470913012	1025
321066	286.9506173252665	-76.21602720554381	1049
319532	138.10562330777756	-74.13046263771815	1206
329811	339.09115114467534	-74.079437090002	1230
292531	157.9992260313308	-72.01346173244167	1381
284426	334.3220080703384	-72.00363831522954	1405
271388	134.25194937794262	-69.89984290932476	1550
261823	291.2923703884806	-69.85633301645093	1574
269728	79.66714639260509	-67.75153338100279	1713
266376	221.3523634562221	-67.75410682716488	1737
302081	2.6944026033579855	-65.6283049944183	1870
259040	131.6524632085583	-65.62306032992412	1894
306494	260.57496060486517	-65.6215024346392	1918
269740	27.442030261507387	-63.49342874290527	2045
266588	147.49514224685362	-63.500457646652386	2069
309784	267.4836252056523	-63.50656483776675	2093
298735	25.405808313367295	-61.39799977782782	2215
273747	136.16529808788357	-61.39855884295731	2239
284377	246.90949061791747	-61.40603077161227	2263
295958	357.67997461604597	-61.394813297139414	2287
291503	100.68630157776727	-59.310849399917295	2403
290160	203.5751961680272	-59.297023047732516	2427
281550	306.4026350107074	-59.265536754458275	2451
274214	46.54678433715548	-57.166038085409234	2561
292656	143.6067351378685	-57.163097762504876	2585
286082	240.637892441177	-57.16185839285074	2609
290154	337.7398020598008	-57.157420863073526	2633
285185	70.85807877369875	-55.03473199539479	2738
296525	162.747352151098	-55.04346619287552	2762
284334	254.67637805454683	-55.04285714108632	2786
286625	346.5757276771975	-55.03688163983833	2810
293142	74.5493721896487	-52.923621174681664	2910
295759	161.8336962800556	-52.921909405304284	2934
271278	249.11322809609075	-52.982395977938	2958
254776	336.43152535125284	-53.03719939579813	2982
181974	60.582644111071566	-50.83155888851992	3077
186134	143.6234308208193	-50.83243983962265	3101
159077	226.73351731790152	-50.815901425408946	3125
181455	309.7985724188353	-50.83036247227755	3149
189275	31.37972217106542	-48.72197147641357	3239
182397	110.64496376879906	-48.701614622636136	3263
214138	189.83715865706006	-48.787631828359714	3287
291602	269.19027790152103	-48.68209737728841	3311
192930	348.4498571057379	-48.723367797025524	3335
180817	64.74468785161794	-46.59545212881802	3420
167403	140.54975829536136	-46.580795464362524	3444
183406	216.30983552250652	-46.591946671052526	3468
172576	292.076909158562	-46.57988307296116	3492
178950	7.556285706761328	-44.4928128802523	3572
189473	80.1745639369574	-44.46933994431428	3596
175186	152.77593396182831	-44.47976364839591	3620
154934	225.35706808347788	-44.45189491457981	3644
178306	297.99733458353234	-44.470718614775606	3668
185576	10.262890697791365	-42.317663703128645	3743
189118	80.4866801556112	-42.343416298450414	3767
180356	150.76714624463617	-42.33922156413624	3791
162580	220.95553701435685	-42.368308476898605	3815
176736	291.18409046397784	-42.34809613646086	3839
284934	1.4097739939505725	-40.25321639269823	3910
168284	69.44858753998155	-40.21360459734683	3934
151929	137.45541171287138	-40.25450682542162	3958
169853	205.53001536997584	-40.21808436188074	3982
295430	273.56535589559604	-40.22761961885426	4006
184526	341.5700678080571	-40.21549264737699	4030
152958	48.05622162623665	-38.10559510947527	4097
180233	114.04742822978722	-38.0796254037872	4121
293324	179.99173651667655	-38.121627900291905	4145
176672	245.9311684048195	-38.08298884387917	4169
151967	311.9063183046637	-38.129023195303944	4193
179986	17.32485382362989	-35.977213958153854	4256
287977	81.33230163450439	-35.9983446233405	4280
159727	145.3370293225759	-36.00244419195274	4304
184145	209.34263447582197	-35.983915634464026	4328
292557	273.33087803197617	-36.00964490981224	4352
182424	337.315214431383	-36.005304664096656	4376
144467	40.14038235771244	-33.864655290416344	4435
282873	102.30257078743604	-33.884643210050996	4459
268027	164.49901524419042	-33.83221038443847	4483
145373	226.63371508430873	-33.885856775159965	4507
179267	288.75954524039713	-33.891291595538476	4531
276955	350.9426242275058	-33.87703731424017	4555
158923	51.96182324918234	-31.74485162371396	4610
186133	112.80935720130623	-31.756723137437522	4634
272618	173.66628068202868	-31.754018241854677	4658
158045	234.48328216599123	-31.775290781957487	4682
186017	295.372582800061	-31.75583609601857	4706
280896	356.1924650730209	-31.74846291678861	4730
155278	55.47434840581245	-29.636661670378373	4782
179079	114.64648916140298	-29.613556975522428	4806
282504	173.83655255728868	-29.62466000289119	4830
160765	233.01838184485982	-29.63423864953552	4854
194900	292.1096608464817	-29.57824842747389	4878
279662	351.37204190492207	-29.636316866073027	4902
154723	49.53368494377384	-27.520800727088982	4950
281508	107.52543054463294	-27.54298957763394	4974
287939	165.50914433471777	-27.52497280334615	4998
155755	223.4652506935638	-27.530649222946384	5022
282220	281.4735202349872	-27.527141369625195	5046
286735	339.45840235919775	-27.522733698089556	5070
172482	36.71420788943163	-25.381908555447772	5115
285488	93.58818229679231	-25.410685738736664	5139
154429	150.3789330170908	-25.402756291838404	5163
174140	207.1750652590724	-25.41038195646727	5187
281202	264.08461375339346	-25.417862354306333	5211
161476	320.9237687656523	-25.396844144557434	5235
274204	17.53679009674609	-23.309065704877273	5277
273323	73.63431105563622	-23.317912273637166	5301
188153	129.7454634073691	-23.295726912348762	5325
277473	185.82326070184865	-23.331540959622618	5349
202272	242.01235349677458	-23.22989094088011	5373
206068	297.9585742768127	-23.218951960871205	5397
277843	354.1619471622154	-23.315490300448406	5421
184593	49.32133206622504	-21.17817995989321	5461
246011	104.3249400870252	-21.17936212756638	5485
257780	159.37037604590716	-21.16360054646819	5509
183979	214.39264571681738	-21.178078465141954	5533
299569	269.4284765494497	-21.16574746622227	5557
188028	324.4474011942706	-21.181511875371807	5581
265451	19.230967232532596	-19.061834991411693	5618
255449	73.58313315628494	-19.065492471296164	5642
182592	127.93793043364654	-19.03966143025425	5666
299007	182.2672949908872	-19.05365099068392	5690
179215	236.61769342003666	-19.061475934143914	5714
257470	290.9500412205215	-19.04908002551802	5738
254050	345.2842081985101	-19.056566613275585	5762
182595	39.12784665442164	-16.944832310208177	5797
306091	92.80118707485451	-16.90977367434358	5821
188232	146.50296228529768	-16.861258113636246	5845
264672	200.13238719379783	-16.954815190001018	5869
253090	253.80426153199124	-16.953204916324495	5893
180910	307.426035746713	-16.92884415154686	5917
297097	1.10696987717174	-14.823178386571664	5950
180839	54.120520863095834	-14.832865663233253	5974
256942	107.11181830921386	-14.81152039698766	5998
249080	160.12762300719544	-14.83277737552411	6022
277895	213.11863695876204	-14.796268709615383	6046
302583	266.13159948451914	-14.819518032666917	6070
172855	319.1425569186729	-14.829847076696547	6094
262325	11.989336784991488	-12.70325943249732	6125
282055	64.37066592952212	-12.71059754374299	6149
276592	116.72822418522115	-12.715486555313937	6173
275812	169.13478958211857	-12.671786799019273	6197
178149	221.47968045124415	-12.69303786709693	6221
304938	273.8087468849473	-12.708768953772386	6245
285908	326.1684333660325	-12.708582165241923	6269
262061	18.420347760621688	-10.59026024820674	6298
260504	70.47690958884137	-10.584530527044842	6322
273162	122.53585835630929	-10.58923457175656	6346
295541	174.57111766857543	-10.588832411361501	6370
181092	226.6440984644859	-10.590895414794081	6394
292613	278.67910816898006	-10.57153060915969	6418
281459	330.70042268031636	-10.590288830646818	6442
262670	22.63064218908049	-8.481673836756194	6470
259743	74.40458897708308	-8.442655048678517	6494
282775	126.1105691622388	-8.464256649118996	6518
300499	177.86143108393173	-8.450620601964262	6542
184986	229.5878226515664	-8.460148028219658	6566
298111	281.31012925201816	-8.467040665273435	6590
277970	333.04784537835144	-8.461693938488503	6614
281467	24.634411022123878	-6.352270138903433	6641
305152	76.07815077108823	-6.369674469557201	6665
278981	127.47786502307568	-6.348218494236013	6689
307736	178.92897137038008	-6.350676605621281	6713
261858	230.41095712730686	-6.3209153697142115	6737
296955	281.78805641136455	-6.361580227219406	6761
287474	333.21620875431626	-6.353054780347878	6785
287675	24.50006204091165	-4.21233877755406	6811
294905	75.61232723596397	-4.254335914646382	6835
284063	126.73165210649265	-4.234791486784467	6859
307823	177.8594041011854	-4.244539043070123	6883
276673	229.0567173720051	-4.225746918978172	6907
294522	280.1309216975583	-4.23928105184409	6931
291031	331.2421580753786	-4.233153893652553	6955
275442	22.382405083503386	-2.125006966486391	6980
300662	73.48586985798536	-2.1183469109551982	7004
276944	124.61280315656991	-2.1229325643954593	7028
309120	175.73279288476033	-2.1198757634696475	7052
259209	226.94689824395832	-2.068023691797813	7076
306311	277.98476827962827	-2.1003624182438876	7100
281991	328.2247074413105	-2.13735174309478	7124
291245	26.51961783833136	0.04761963915065417	7149
287535	71.36350151370986	0.011329613518460716	7173
285369	122.48050938425365	0.004778107555746943	7197
302832	173.6070683660036	0.019000596679503833	7221
245907	224.70425021248482	0.015967362350033883	7245
309582	275.8730013079684	-0.0012534658257050176	7269
273150	302.6853175878223	0.21957171858324764	7293
306911	18.11705916737063	2.101698631779091	7318
269301	69.25726962483508	2.0979578749522516	7342
288086	120.36020321575828	2.11497997840039	7366
306982	171.4910867350855	2.1056739162943576	7390
268260	222.58675888077923	2.0960990297251914	7414
298466	273.73264374181196	2.1146384632473394	7438
279690	323.41910947323726	2.1325745721553497	7462
294649	15.975560985744947	4.211280141600231	7487
266261	67.0826695841078	4.216697298280443	7511
277956	118.2128813727456	4.221867679049982	7535
304457	169.3614220502184	4.213557383306717	7559
277856	220.45868065555845	4.234210272149037	7583
303430	271.6001692668514	4.226278502404203	7607
276820	322.7287555543973	4.253064749758504	7631
293088	13.920212812474727	6.342524781371103	7656
280119	65.35581201445746	6.35175130127787	7680
285826	116.77419036051522	6.332851444377729	7704
297918	168.19185426605182	6.357639289449862	7728
261867	219.59907793310296	6.3101968735371585	7752
310979	271.0838201344219	6.356158834290517	7776
284062	322.50480770970256	6.373583854947541	7800
288053	13.976669871865086	8.442752246624295	7826
279151	65.71663381760875	8.452543544071187	7850
281611	117.48181394339859	8.47057838603328	7874
297962	169.22092883305908	8.478980654063283	7898
182590	220.9553719259816	8.471164152385468	7922
299055	272.6921065781685	8.46632636471495	7946
285263	324.43727583335505	8.459537686418553	7970
265649	16.26022010800885	10.591887513983028	7997
259727	68.3037715661242	10.583184363889746	8021
276800	120.34418938474383	10.593142290664687	8045
298377	172.40681388028526	10.591406750011673	8069
178616	224.47005437479254	10.581949986234676	8093
299349	276.51140992677307	10.602414000565911	8117
280094	328.56751568610946	10.60346607192368	8141
254494	20.724314103783865	12.714186634828442	8169
253103	73.0942974564229	12.71052953711969	8193
247851	125.37756681393435	12.656561724376363	8217
300701	177.8140260159921	12.721759730204871	8241
177474	230.18515866131312	12.708821068800944	8265
245869	282.5425008252289	12.69409657562967	8289
277189	334.92230572337866	12.71199867499868	8313
280216	27.60996948458485	14.827592675088143	8342
265483	80.61843904554848	14.816355815358783	8366
173312	133.6066953712926	14.821254483495501	8390
300278	186.62540401681653	14.805945529438102	8414
282520	239.64507425022407	14.809338391501075	8438
258131	292.6359158951435	14.838253097705024	8462
256747	345.6347269226802	14.814561013470113	8486
175815	39.11271522418317	16.93432060170752	8517
311741	92.79671961165546	16.951192359411618	8541
196774	146.51018094267005	16.911698201879094	8565
266732	200.1328461235305	16.95349315004457	8589
256709	253.79741109615946	16.9601572785939	8613
181495	307.4288332641743	16.948852103510585	8637
294037	1.1273999939209052	19.054256453896407	8670
178933	55.468672876076404	19.044047606637875	8694
266131	109.8080347191137	19.054683134759756	8718
253917	164.12382886727244	19.04682428467429	8742
176398	218.49176959405307	19.055639892470683	8766
298514	272.81360242049817	19.045367903240045	8790
180236	327.17030151626744	19.053531485346483	8814
259833	21.781450091462386	21.176862034999214	8849
252573	76.80230876390294	21.157061784046583	8873
172264	131.81234264042405	21.187277730025883	8897
261642	186.8856869368068	21.156462916024037	8921
279117	241.9515156368908	21.13886911385563	8945
286004	296.9501839386599	21.186355933702053	8969
263943	351.9829482904149	21.167651520974736	8993
187787	47.95577529781214	23.316144017701422	9030
266795	104.03870407153154	23.30395754455772	9054
270260	160.14310069575674	23.297231737677606	9078
184165	216.22949810312008	23.287847518072315	9102
278741	272.3484345920375	23.316474982317743	9126
189265	328.42433110951964	23.29130017698855	9150
253452	24.795607617161068	25.353816710852946	9190
290202	81.68772074040407	25.39627737907429	9214
173797	138.53273557626312	25.36566788613727	9238
284130	195.39008737477184	25.420421375215348	9262
287959	252.24392594758285	25.407976049295666	9286
162193	309.0817861782742	25.36450051919154	9310
283581	6.077340538867854	27.531287358071637	9352
180666	64.0433875497266	27.52295914318671	9376
160743	121.99904351169822	27.517087780340173	9400
278720	180.0013810410656	27.54185398597738	9424
154157	237.9895206639023	27.51571002729506	9448
187988	295.95697739064997	27.511896260404207	9472
283971	353.9698471245732	27.509543398533264	9496
156198	53.01391875851915	29.633497610918933	9541
201626	112.14145501373183	29.6060824998803	9565
283530	171.3930258327612	29.658152397945685	9589
155731	230.53567849272324	29.66102901670417	9613
274784	289.7065769965539	29.629554260663603	9637
280775	348.8855583550543	29.663115188483	9661
151805	49.43555217570192	31.75289908218304	9709
194882	110.22495802336537	31.700700165826706	9733
275805	171.13414210581485	31.762741860478233	9757
156329	231.98804414685037	31.761077058707443	9781
180796	292.8085423973438	31.760755395457075	9805
279717	353.65652531684736	31.764244123359884	9829
153733	55.683696996140256	33.86566247976256	9881
186089	117.83660258795398	33.88289597853436	9905
296163	180.01235240351969	33.87856805934127	9929
189135	242.17991435078707	33.891363547393894	9953
159286	304.3331929631352	33.87215194458616	9977
279430	6.661883723387872	35.99326758852669	10032
177232	70.66344369098915	35.98169587576535	10056
148229	134.67185025724618	36.00710712612285	10080
189414	198.67069895882494	35.99455553785855	10104
282624	262.6817620887993	35.98734796509485	10128
162723	326.6603740074546	35.96310287722513	10152
180297	31.56394110010441	38.11269968691972	10211
289769	97.56371006792028	38.11008070105446	10235
177713	163.5187807240994	38.07348035137964	10259
150530	229.4759384106663	38.12734065618567	10283
182822	295.3922002236962	38.09289278517702	10307
291577	1.3992535673345752	40.21981836279085	10370
178180	69.47742247165016	40.2222635260378	10394
156211	137.4981787461274	40.21627549608212	10418
175083	205.48387908187888	40.21396842541305	10442
291809	273.5278669997128	40.23373289254633	10466
182841	341.5695435327108	40.22604188018103	10490
161396	51.20154392150625	42.33335337599624	10557
180587	121.4763479323727	42.334117114033866	10581
184353	191.70422804966483	42.35121107073558	10605
195197	261.93700267963584	42.353936704286745	10629
174742	332.20907364881344	42.34427298671094	10653
157355	43.82672466000399	44.45021089694802	10724
174611	116.48789163518575	44.47313007067159	10748
185962	189.07201214520663	44.46904671302495	10772
187501	261.664383218116	44.45265648849404	10796
172069	334.3017217437551	44.45796214934094	10820
Execution time: 122.433024883

+ echo 'Five scans: four on Object, one on Source'
Five scans: four on Object, one on Source
+ echo

+ SQL1='SELECT MIN(ra), MAX(ra) FROM Object WHERE decl > 3'
+ SQL2='SELECT COUNT(*) FROM Object WHERE y_instFlux > 5'
+ SQL5='SELECT COUNT(*) FROM Source WHERE flux_sinc BETWEEN 1 AND 2'
+ parallel mysql_query ::: 'SELECT MIN(ra), MAX(ra) FROM Object WHERE decl > 3' 'SELECT COUNT(*) FROM Object WHERE y_instFlux > 5' 'SELECT COUNT(*) FROM Object WHERE y_instFlux > 5' 'SELECT COUNT(*) FROM Object WHERE y_instFlux > 5' 'SELECT COUNT(*) FROM Source WHERE flux_sinc BETWEEN 1 AND 2'
Query: SELECT COUNT(*) FROM Object WHERE y_instFlux > 5
0
Execution time: 115.738443613

Query: SELECT MIN(ra), MAX(ra) FROM Object WHERE decl > 3
0.0000014485490397609597	355.1677801776341
Execution time: 117.560930967

Query: SELECT COUNT(*) FROM Object WHERE y_instFlux > 5
0
Execution time: 117.431562185

Query: SELECT COUNT(*) FROM Object WHERE y_instFlux > 5
0
Execution time: 117.581129074

Query: SELECT COUNT(*) FROM Source WHERE flux_sinc BETWEEN 1 AND 2
149000
Execution time: 986.928966522

